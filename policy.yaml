# policy.yaml — NovaTrade 3.0 Policy (Phase 7A Context-Aware)
policy:

  # ── sizing & risk ────────────────────────────────────────────────
  max_per_coin_usd:       100        # per-intent cap (unchanged)
  min_quote_reserve_usd:   10        # upgraded from 10 → 25 for safety
  keepback_usd:             5        # always leave this untouched
  canary_max_usd:          11        # cap for first fills
  min_liquidity_usd:    50000        # same as before
  on_short_quote:      resize        # resize|deny if reserve too small
  allow_price_unknown:  false        # block if no price available
  cool_off_minutes_after_trade: 30   # cooldown between rotations
  min_qty_floors:
    "KRAKEN:BTCUSDT": 0.0001
  venue_min_notional_usd:
    BINANCEUS: 10
    COINBASE:  5     # treat as 5 USD/USDC; adjust if you want 10
    KRAKEN:    25
  venue_fees_bp:
    BINANCEUS: 10
    COINBASE:  20
    KRAKEN:    26
  # ── strategic preferences ────────────────────────────────────────
  prefer_quotes:
    BINANCEUS: USDT
    COINBASE:  USDC
    KRAKEN:    USDT
  venue_order: [BINANCEUS, COINBASE, KRAKEN]

  # ── controls ────────────────────────────────────────────────────
  blocked_symbols: [BARK, BONK]
